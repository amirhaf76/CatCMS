@using System.Security.Claims
@using CatCMS.Services
@inject UserStatePublisherService AuthService


<input @bind="userIdentifier" />
<button @onclick="SignInAsync">Sign in</button>

<AuthorizeView>
    <Authorized>
        <p>Hello, @context.User.Identity?.Name!</p>
    </Authorized>
    <NotAuthorized>
        <p>You're not authorized.</p>
    </NotAuthorized>
</AuthorizeView>

@code {
    public string userIdentifier = string.Empty;

    [CascadingParameter]
    private Task<AuthenticationState>? UserState { get; set; }

    private async Task SignInAsync()
    {

        await AuthService.LoginAsync();
    }
}